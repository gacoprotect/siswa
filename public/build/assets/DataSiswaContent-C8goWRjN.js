import{r as I,m as A,j as e}from"./app-DEqabZ7I.js";import{q as K,i as c,j as y,k as j,r as m,s as C,t as k,u as D,v as E}from"./index-BLUXveWf.js";const R=({nouid:x,siswa:l})=>{var g,u,b,p,v,N,f;const[d,o]=I.useState(!1),{data:t,setData:r,put:F,processing:S,errors:s}=A({nis:l.nis??"",namlen:l.namlen,kel:l.kel??"",tel:l.tel??"",ttl:l.ttl??"",email:l.email??"",ala:l.ala,wali:{ayah:((g=l.wali)==null?void 0:g.ayah)??"",ibu:((u=l.wali)==null?void 0:u.ibu)??"",tel:((b=l.wali)==null?void 0:b.tel)??""},excul:l.excul??[],prestasi:l.prestasi??[]}),h=a=>{a.preventDefault(),F(route("siswa.update",{nouid:x}),{onSuccess:()=>{o(!1)}})};return e.jsxs("div",{className:"w-full space-y-6 p-4",children:[e.jsxs("div",{className:"flex flex-col justify-between space-y-3 md:flex-row md:items-center md:space-y-0",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Data Siswa Lengkap"}),d?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>o(!1),className:"flex items-center gap-2 rounded-lg bg-gray-500 px-4 py-2 text-white transition-colors hover:bg-gray-600",children:"Batal"}),e.jsx("button",{onClick:h,disabled:S,className:"flex items-center gap-2 rounded-lg bg-green-500 px-4 py-2 text-white transition-colors hover:bg-green-600 disabled:opacity-50",children:"Simpan Perubahan"})]}):e.jsxs("button",{onClick:()=>o(!0),className:"flex w-32 items-center justify-center gap-2 rounded-lg bg-blue-500 px-4 py-2 text-white transition-colors hover:bg-blue-600",children:[e.jsx(K,{className:"text-lg"}),"Edit Data"]})]}),d?e.jsx("form",{onSubmit:h,className:"w-full",children:e.jsxs("div",{className:"grid w-full grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:[e.jsxs("h4",{className:"mb-3 flex items-center gap-2 text-lg font-semibold text-blue-600",children:[e.jsx(c,{})," Identitas Diri"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{icon:e.jsx(y,{}),label:"NIS",value:t.nis,onChange:a=>r("nis",a.target.value),error:s.nis}),e.jsx(i,{icon:e.jsx(c,{}),label:"Nama",value:t.namlen,onChange:a=>r("namlen",a.target.value),error:s.namlen}),e.jsx(i,{icon:e.jsx(j,{}),label:"Kelas",value:t.kel,onChange:a=>r("kel",a.target.value),error:s.kel}),e.jsx(i,{icon:e.jsx(m,{}),label:"Telepon",value:t.tel,onChange:a=>r("tel",a.target.value),error:s.tel}),e.jsx(i,{icon:e.jsx(C,{}),label:"TTL",value:t.ttl,onChange:a=>r("ttl",a.target.value),error:s.ttl}),e.jsx(i,{icon:e.jsx(k,{}),label:"Email",value:t.email,onChange:a=>r("email",a.target.value),error:s.email})]})]}),e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:[e.jsxs("h4",{className:"mb-3 flex items-center gap-2 text-lg font-semibold text-green-600",children:[e.jsx(D,{})," Alamat"]}),e.jsx("textarea",{className:"w-full rounded border border-gray-300 p-2",value:t.ala,onChange:a=>r("ala",a.target.value),rows:4}),s.ala&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:s.ala})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:[e.jsxs("h4",{className:"mb-3 flex items-center gap-2 text-lg font-semibold text-amber-600",children:[e.jsx(E,{})," Orang Tua"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{icon:e.jsx(c,{}),label:"Ayah",value:t.wali.ayah,onChange:a=>r("wali",{...t.wali,ayah:a.target.value}),error:s.wali&&typeof s.wali=="object"?s.wali.ayah??void 0:void 0}),e.jsx(i,{icon:e.jsx(c,{}),label:"Ibu",value:t.wali.ibu,onChange:a=>r("wali",{...t.wali,ibu:a.target.value}),error:s.wali&&typeof s.wali=="object"?s.wali.ibu??void 0:void 0}),e.jsx(i,{icon:e.jsx(m,{}),label:"Kontak Darurat",value:t.wali.tel,onChange:a=>r("wali",{...t.wali,tel:a.target.value}),error:s.wali&&typeof s.wali=="object"?s.wali.tel??void 0:void 0})]})]})})]})}):e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:[e.jsxs("h4",{className:"mb-3 flex items-center gap-2 text-lg font-semibold text-blue-600",children:[e.jsx(c,{})," Identitas Diri"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{icon:e.jsx(y,{}),label:"NIS",value:(l==null?void 0:l.nis)??""}),e.jsx(n,{icon:e.jsx(c,{}),label:"Nama",value:l.namlen}),e.jsx(n,{icon:e.jsx(j,{}),label:"Kelas",value:(l==null?void 0:l.kel)??""}),e.jsx(n,{icon:e.jsx(m,{}),label:"Telepon",value:(l==null?void 0:l.tel)??""}),e.jsx(n,{icon:e.jsx(C,{}),label:"TTL",value:(l==null?void 0:l.ttl)??""}),e.jsx(n,{icon:e.jsx(k,{}),label:"Email",value:(l==null?void 0:l.email)??""})]})]}),e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:[e.jsxs("h4",{className:"mb-3 flex items-center gap-2 text-lg font-semibold text-green-600",children:[e.jsx(D,{})," Alamat"]}),e.jsx("p",{className:"text-gray-700",children:l.ala})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:[e.jsxs("h4",{className:"mb-3 flex items-center gap-2 text-lg font-semibold text-amber-600",children:[e.jsx(E,{})," Orang Tua"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{icon:e.jsx(c,{}),label:"Ayah",value:((p=l==null?void 0:l.wali)==null?void 0:p.ayah)??""}),e.jsx(n,{icon:e.jsx(c,{}),label:"Ibu",value:((v=l==null?void 0:l.wali)==null?void 0:v.ibu)??""}),e.jsx(n,{icon:e.jsx(m,{}),label:"Kontak Darurat",value:((N=l==null?void 0:l.wali)==null?void 0:N.tel)??""})]})]}),e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:[e.jsxs("h4",{className:"mb-3 flex items-center gap-2 text-lg font-semibold text-purple-600",children:[e.jsx(j,{})," Aktivitas"]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:"Prestasi:"}),e.jsx("ul",{className:"mt-1 list-disc space-y-1 pl-5",children:(f=l==null?void 0:l.prestasi)==null?void 0:f.map((a,T)=>e.jsx("li",{className:"text-gray-700",children:a},T))})]})})]})]})]})})]})},n=({icon:x,label:l,value:d})=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"mt-1 text-gray-500",children:x}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:l}),e.jsx("p",{className:"text-gray-900",children:d})]})]}),i=({icon:x,label:l,value:d,onChange:o,error:t})=>e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mb-1 ml-8 block text-sm font-bold text-gray-700",children:l}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-xl text-gray-500",children:x}),e.jsx("input",{type:"text",value:d,onChange:o,className:`w-full rounded border ${t?"border-red-500":"border-gray-300"} p-2 text-sm`})]}),t&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:t})]});export{R as default};
