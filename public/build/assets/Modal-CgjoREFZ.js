import{r as c,j as e}from"./app-CUK3jhPj.js";import{c as d}from"./utils-CXz1v5ar.js";import{I as $}from"./InputGroup-3-Ai6tk7.js";import{C as H}from"./circle-alert-DqkiMWPE.js";import{X as I}from"./x-C0alGaor.js";const S={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl",full:"w-full mx-6"},q=({title:r="",size:a="md",isOpen:s,onClose:l,children:g,closeOnOverlayClick:w=!0,closeOnEsc:f=!0,overlayClassName:y="",className:v="",header:N=!0,footer:u,onConfirm:p,cancelText:k="Batal",confirmText:E="Setuju",confirmDisabled:C=!1,confirmClassName:M="bg-primary text-primary-foreground hover:bg-primary/90",error:o,onScrollToBottom:m,agreement:h})=>{const[x,n]=c.useState(!1),[B,L]=c.useState(!1),b=c.useRef(null);c.useEffect(()=>{const t=b.current;if(!t||!s)return;const i=()=>{const j=t.scrollTop+t.clientHeight>=t.scrollHeight-10;L(j),j&&m&&m()};return t.addEventListener("scroll",i),()=>t.removeEventListener("scroll",i)},[s,m]),c.useEffect(()=>{if(!s||!f)return;const t=i=>{i.key==="Escape"&&(l(),n(!1))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[s,f,l]);const R=t=>{w&&t.target===t.currentTarget&&(l(),n(!1))};return s?e.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm ${y}`,onClick:R,children:e.jsxs("div",{className:d(`bg-secondary text-secondary-foreground rounded-lg shadow-lg flex flex-col max-h-[90vh] ${S[a]}`,v),children:[N&&e.jsx(z,{onClose:()=>{n(!1)},children:r}),e.jsx(A,{className:"flex-1 overflow-auto",ref:b,children:g}),h&&e.jsxs("div",{className:"flex gap-2 px-4 text-sm",children:[e.jsx($,{name:"agreement",type:"checkbox",checked:x,onChange:t=>n(!!t),classNameInput:d("h-5 w-5 form-checkbox rounded accent-blue-500",!x&&"animate-pulse bg-accent-primary",o&&"accent-red-500")}),h]}),(u||p)&&e.jsxs(T,{className:d(o&&"justify-between"),children:[o&&e.jsxs("p",{className:"flex items-center gap-2 text-xs text-red-500 mt-1",children:[e.jsx(H,{className:"text-red-500 w-4 h-4"}),o]}),u||e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("button",{onClick:()=>{l(),n(!1)},className:"px-4 py-2 text-white text-sm font-medium rounded-md bg-red-500 hover:bg-red-400",children:k}),e.jsx("button",{onClick:p,disabled:C||!!o||!B||!x,className:d("px-4 py-2 text-sm font-medium rounded-md disabled:opacity-50 disabled:cursor-not-allowed",M),children:E})]})]})]})}):null},z=({children:r,className:a="",showCloseButton:s=!0,onClose:l})=>e.jsxs("div",{className:`flex justify-between items-center p-4 border-b ${a}`,children:[e.jsx("h3",{className:"text-xl font-semibold",children:r}),s&&e.jsx("button",{onClick:l,className:"text-red-500 hover:text-accent-foreground text-2xl","aria-label":"Close",children:e.jsx(I,{})})]}),A=c.forwardRef(({children:r,className:a=""},s)=>e.jsx("div",{ref:s,className:`p-2 overflow-auto ${a}`,children:r})),T=({children:r,className:a=""})=>e.jsx("div",{className:d("px-6 py-2 border-t flex justify-end space-x-2 ",a),children:r});export{q as M};
