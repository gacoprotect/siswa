import{r as I,m as A,j as e}from"./app-8clPXT22.js";import{c as K}from"./utils-CXz1v5ar.js";import{s as w,j as c,k as C,l as j,t as m,u as k,v as D,w as h,x as E}from"./index-DW2bR4uz.js";import"./clsx-B-dksMZM.js";const O=({nouid:d,siswa:a})=>{var u,b,p,v,N,f,y;const[x,o]=I.useState(!1),{data:s,setData:r,put:F,processing:S,errors:t}=A({nis:a.nis??"",namlen:a.namlen,kel:a.kel??"",tel:a.tel??"",ttl:a.ttl??"",email:a.email??"",ala:a.ala,wali:{ayah:((u=a.wali)==null?void 0:u.ayah)??"",ibu:((b=a.wali)==null?void 0:b.ibu)??"",tel:((p=a.wali)==null?void 0:p.tel)??""},excul:a.excul??[],prestasi:a.prestasi??[]}),g=l=>{l.preventDefault(),F(route("siswa.update",{nouid:d}),{onSuccess:()=>{o(!1)}})};return e.jsxs("div",{className:"w-full space-y-6 p-4",children:[e.jsxs("div",{className:"flex flex-col justify-between space-y-3 md:flex-row md:items-center md:space-y-0",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:"Data Siswa Lengkap"}),x?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>o(!1),className:"flex items-center gap-2 rounded-lg bg-gray-500 px-4 py-2 text-white transition-colors hover:bg-gray-600",children:"Batal"}),e.jsx("button",{onClick:g,disabled:S,className:"flex items-center gap-2 rounded-lg bg-green-500 px-4 py-2 text-white transition-colors hover:bg-green-600 disabled:opacity-50",children:"Simpan Perubahan"})]}):e.jsxs("button",{onClick:()=>o(!0),className:"flex w-32 items-center justify-center gap-2 rounded-lg bg-blue-500 px-4 py-2 text-white transition-colors hover:bg-blue-600",children:[e.jsx(w,{className:"text-lg"}),"Edit Data"]})]}),x?e.jsx("form",{onSubmit:g,className:"w-full",children:e.jsxs("div",{className:"grid w-full grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:[e.jsxs("h4",{className:"mb-3 flex items-center gap-2 text-lg font-semibold text-blue-600",children:[e.jsx(c,{})," Identitas Diri"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{icon:e.jsx(C,{}),label:"NIS",value:s.nis,onChange:l=>r("nis",l.target.value),error:t.nis,disabled:!0}),e.jsx(i,{icon:e.jsx(c,{}),label:"Nama",value:s.namlen,onChange:l=>r("namlen",l.target.value),error:t.namlen,disabled:!0}),e.jsx(i,{icon:e.jsx(j,{}),label:"Kelas",value:s.kel,onChange:l=>r("kel",l.target.value),error:t.kel,disabled:!0}),e.jsx(i,{icon:e.jsx(m,{}),label:"Telepon",value:s.tel,onChange:l=>r("tel",l.target.value),error:t.tel}),e.jsx(i,{icon:e.jsx(k,{}),label:"TTL",value:s.ttl,onChange:l=>r("ttl",l.target.value),error:t.ttl}),e.jsx(i,{icon:e.jsx(D,{}),label:"Email",value:s.email,onChange:l=>r("email",l.target.value),error:t.email})]})]}),e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:[e.jsxs("h4",{className:"mb-3 flex items-center gap-2 text-lg font-semibold text-green-600",children:[e.jsx(h,{})," Catatan Kesehatan"]}),e.jsx("textarea",{className:"w-full rounded border border-gray-300 p-2",value:s.ala,onChange:l=>r("ala",l.target.value),rows:4}),t.ala&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.ala})]}),e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:[e.jsxs("h4",{className:"mb-3 flex items-center gap-2 text-lg font-semibold text-green-600",children:[e.jsx(h,{})," Alamat"]}),e.jsx("textarea",{className:"w-full rounded border border-gray-300 p-2",value:s.ala,onChange:l=>r("ala",l.target.value),rows:4}),t.ala&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:t.ala})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:[e.jsxs("h4",{className:"mb-3 flex items-center gap-2 text-lg font-semibold text-amber-600",children:[e.jsx(E,{})," Orang Tua"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{icon:e.jsx(c,{}),label:"Ayah",value:s.wali.ayah,onChange:l=>r("wali",{...s.wali,ayah:l.target.value}),error:t.wali&&typeof t.wali=="object"?t.wali.ayah??void 0:void 0}),e.jsx(i,{icon:e.jsx(c,{}),label:"Ibu",value:s.wali.ibu,onChange:l=>r("wali",{...s.wali,ibu:l.target.value}),error:t.wali&&typeof t.wali=="object"?t.wali.ibu??void 0:void 0}),e.jsx(i,{icon:e.jsx(m,{}),label:"Kontak Darurat",value:s.wali.tel,onChange:l=>r("wali",{...s.wali,tel:l.target.value}),error:t.wali&&typeof t.wali=="object"?t.wali.tel??void 0:void 0})]})]})})]})}):e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:[e.jsxs("h4",{className:"mb-3 flex items-center gap-2 text-lg font-semibold text-blue-600",children:[e.jsx(c,{})," Identitas Diri"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{icon:e.jsx(C,{}),label:"NIS",value:(a==null?void 0:a.nis)??""}),e.jsx(n,{icon:e.jsx(c,{}),label:"Nama",value:a.namlen}),e.jsx(n,{icon:e.jsx(j,{}),label:"Kelas",value:(a==null?void 0:a.kel)??""}),e.jsx(n,{icon:e.jsx(m,{}),label:"Telepon",value:(a==null?void 0:a.tel)??""}),e.jsx(n,{icon:e.jsx(k,{}),label:"TTL",value:(a==null?void 0:a.ttl)??""}),e.jsx(n,{icon:e.jsx(D,{}),label:"Email",value:(a==null?void 0:a.email)??""})]})]}),e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:[e.jsxs("h4",{className:"mb-3 flex items-center gap-2 text-lg font-semibold text-green-600",children:[e.jsx(h,{})," Alamat"]}),e.jsx("p",{className:"text-gray-700",children:a.ala})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:[e.jsxs("h4",{className:"mb-3 flex items-center gap-2 text-lg font-semibold text-amber-600",children:[e.jsx(E,{})," Orang Tua"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{icon:e.jsx(c,{}),label:"Ayah",value:((v=a==null?void 0:a.wali)==null?void 0:v.ayah)??""}),e.jsx(n,{icon:e.jsx(c,{}),label:"Ibu",value:((N=a==null?void 0:a.wali)==null?void 0:N.ibu)??""}),e.jsx(n,{icon:e.jsx(m,{}),label:"Kontak Darurat",value:((f=a==null?void 0:a.wali)==null?void 0:f.tel)??""})]})]}),e.jsxs("div",{className:"rounded-lg bg-white p-4 shadow-sm",children:[e.jsxs("h4",{className:"mb-3 flex items-center gap-2 text-lg font-semibold text-purple-600",children:[e.jsx(j,{})," Aktivitas"]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:"Prestasi:"}),e.jsx("ul",{className:"mt-1 list-disc space-y-1 pl-5",children:(y=a==null?void 0:a.prestasi)==null?void 0:y.map((l,T)=>e.jsx("li",{className:"text-gray-700",children:l},T))})]})})]})]})]})})]})},n=({icon:d,label:a,value:x})=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"mt-1 text-gray-500",children:d}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:a}),e.jsx("p",{className:"text-gray-900",children:x})]})]}),i=({disabled:d=!1,icon:a,label:x,value:o,onChange:s,error:r})=>e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"mb-1 ml-8 block text-sm font-bold text-gray-700",children:x}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-xl text-gray-500",children:a}),e.jsx("input",{disabled:d,type:"text",value:o,onChange:s,className:K(`w-full rounded border ${r?"border-red-500":"border-gray-300"} p-2 text-sm`,d&&"bg-gray-300")})]}),r&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:r})]});export{O as default};
