import{K as T,u as S,r as c,j as e,S as m}from"./app-0TZxd7-0.js";import{d as j,F as N,b as o,e as C}from"./index-9AGKIkml.js";import{M as y}from"./menu-layout-eHOqRuXZ.js";import{L}from"./loading-screen-CVDl2slW.js";import{f}from"./payment-utils-DzF5sgS3.js";/* empty css            */import"./iconBase-DysFdnYx.js";import"./AppLayout-C1e7uw5d.js";import"./wallet-D5R0T7u8.js";import"./createLucideIcon-ehYxvoxp.js";const K=()=>{var u,h,g,b,p;const{auth:r,data:a}=T().props,{log:t}=S(),[v,F]=c.useState(!1),[i,d]=c.useState(!1);c.useEffect(()=>{var s,l;t("Payment index page loaded:",{siswaName:(s=a.siswa)==null?void 0:s.namlen,balance:a.balance,totalTagihan:((l=a.tagihan)==null?void 0:l.length)||0})},[(u=a.siswa)==null?void 0:u.namlen,a.balance,(h=a.tagihan)==null?void 0:h.length,t]);const w=()=>{d(!0),t("Navigating to invoice page"),setTimeout(()=>{var s;m.visit(route("payment.invoice",(s=r.user)==null?void 0:s.nouid))},500)},k=()=>{d(!0),t("Navigating to payment history"),setTimeout(()=>{var s;m.visit(route("payment.history",(s=r.user)==null?void 0:s.nouid))},500)},P=()=>{d(!0),t("Navigating to payment methods"),setTimeout(()=>{var s;m.visit(route("payment.methods",(s=r.user)==null?void 0:s.nouid))},500)},x=()=>{t("Navigating back from payment page"),window.history.back()};if(v)return e.jsx(y,{title:"Pembayaran",onBack:x,children:e.jsx(L,{variant:"overlay"})});const n=(a.tagihan||[]).reduce((s,l)=>s+l.jumlah,0);return e.jsx(y,{title:"Pembayaran",onBack:x,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Ringkasan Pembayaran"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600",children:"Saldo Tersedia"}),e.jsx("p",{className:"text-xl font-semibold text-blue-900",children:f(a.balance||0)})]}),e.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:e.jsx(j,{className:"text-blue-600",size:20})})]})}),e.jsx("div",{className:"bg-orange-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-orange-600",children:"Total Tagihan"}),e.jsx("p",{className:"text-xl font-semibold text-orange-900",children:f(n)})]}),e.jsx("div",{className:"bg-orange-100 p-2 rounded-lg",children:e.jsx(N,{className:"text-orange-600",size:20})})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Aksi Pembayaran"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:w,disabled:i,className:"w-full flex items-center justify-between p-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(N,{size:20}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium",children:"Lihat Invoice"}),e.jsx("p",{className:"text-sm text-blue-100",children:"Detail tagihan dan pembayaran"})]})]}),i?e.jsx(o,{className:"animate-spin"}):e.jsx("span",{className:"text-blue-100",children:"→"})]}),e.jsxs("button",{onClick:P,disabled:i,className:"w-full flex items-center justify-between p-4 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(j,{size:20}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium",children:"Metode Pembayaran"}),e.jsx("p",{className:"text-sm text-green-100",children:"Pilih cara pembayaran"})]})]}),i?e.jsx(o,{className:"animate-spin"}):e.jsx("span",{className:"text-green-100",children:"→"})]}),e.jsxs("button",{onClick:k,disabled:i,className:"w-full flex items-center justify-between p-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{size:20}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium",children:"Riwayat Pembayaran"}),e.jsx("p",{className:"text-sm text-purple-100",children:"Lihat transaksi sebelumnya"})]})]}),i?e.jsx(o,{className:"animate-spin"}):e.jsx("span",{className:"text-purple-100",children:"→"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informasi Cepat"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Nama Siswa:"}),e.jsx("span",{className:"text-gray-900 font-medium",children:((g=a.siswa)==null?void 0:g.namlen)||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"NIS:"}),e.jsx("span",{className:"text-gray-900 font-medium",children:((b=a.siswa)==null?void 0:b.nouid)||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Jumlah Tagihan:"}),e.jsxs("span",{className:"text-gray-900 font-medium",children:[((p=a.tagihan)==null?void 0:p.length)||0," item"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Status Pembayaran:"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n===0?"bg-green-100 text-green-800":a.balance&&a.balance>=n?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:n===0?"Lunas":a.balance&&a.balance>=n?"Cukup Saldo":"Perlu Top Up"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Bantuan Pembayaran"}),e.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[e.jsx("p",{children:"• Pastikan saldo mencukupi sebelum melakukan pembayaran"}),e.jsx("p",{children:"• Pembayaran dapat dilakukan melalui saldo tabungan atau virtual account"}),e.jsx("p",{children:"• Simpan bukti pembayaran untuk keperluan administrasi"}),e.jsx("p",{children:"• Hubungi admin sekolah jika mengalami kendala"})]})]})]})})};export{K as default};
