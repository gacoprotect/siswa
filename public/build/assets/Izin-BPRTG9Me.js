import{j as e,a as w,r as x}from"./app-BCQLJZXK.js";import{c as S,B as m}from"./button-txIjzFQn.js";import{c as y}from"./utils-CXz1v5ar.js";import{S as M,a as D,b as C,c as I,d as u}from"./select-8bAG7QA-.js";import{S as _}from"./index-DplycdlX.js";import{I as P}from"./InputGroup-CCzWmXwm.js";import{c as r}from"./createLucideIcon-BDLI8lb5.js";import{F as B}from"./file-text-DLaxpkv-.js";import{C as b,a as A}from"./clock-DFmO07TK.js";import{C as z}from"./circle-check-big-BRLEH0UN.js";/* empty css            */import"./clsx-B-dksMZM.js";import"./Combination-Dg1TjBSX.js";import"./check-BGTzPzvS.js";import"./iconBase-BQ_oDsPS.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],$=r("CalendarDays",L);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],F=r("CircleHelp",H);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]],T=r("HeartPulse",K);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],V=r("Plus",q);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],U=r("Scissors",E);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],J=r("Send",G);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],X=r("User",R);function h({className:d,type:n,...l}){return e.jsx("input",{type:n,"data-slot":"input",className:y("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",d),...l})}const Z=S("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-auto",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function O({className:d,variant:n,asChild:l=!1,...c}){const i=l?_:"span";return e.jsx(i,{"data-slot":"badge",className:y(Z({variant:n}),d),...c})}const ue=({onClose:d})=>{const{log:n}=w(),[l,c]=x.useState(!1),[i,p]=x.useState([]),[s,g]=x.useState({jenis:"sakit",tanggalMulai:"",tanggalSelesai:"",alasan:"",keterangan:""}),j=a=>{switch(a){case"disetujui":return e.jsx(z,{className:"text-green-500",size:16});case"menunggu":return e.jsx(A,{className:"text-yellow-500",size:16});case"ditolak":return e.jsx(b,{className:"text-red-500",size:16});case"dibatalkan":return e.jsx(b,{className:"text-red-500",size:16});default:return null}},o=a=>{const{name:t,value:k}=a.target;g(N=>({...N,[t]:k}))},f=a=>{if(a.preventDefault(),new Date(s.tanggalSelesai)<new Date(s.tanggalMulai)){alert("Tanggal selesai tidak boleh sebelum tanggal mulai");return}const t={id:Math.random().toString(36).substring(2,9),...s,status:"menunggu",dibuatPada:new Date};p([...i,t]),c(!1),g({jenis:"sakit",tanggalMulai:"",tanggalSelesai:"",alasan:"",keterangan:""}),n("Pengajuan izin dikirim",t)},v=a=>{p(i.map(t=>t.id===a?{...t,status:"dibatalkan"}:t)),n("Izin dibatalkan",{idIzin:a})};return e.jsx("div",{className:"max-w-4xl mx-auto p-4 md:p-6",children:l?e.jsxs("form",{onSubmit:f,className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Formulir Pengajuan Izin"})}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jenis Izin"}),e.jsxs(M,{value:s.jenis,onValueChange:a=>g({...s,jenis:a}),children:[e.jsx(D,{className:"w-full",children:e.jsx(C,{placeholder:"Pilih jenis izin"})}),e.jsxs(I,{children:[e.jsx(u,{value:"sakit",className:"hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{children:"Izin Sakit"})]})}),e.jsx(u,{value:"dispensasi",className:"hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{children:"Dispensasi"})]})}),e.jsx(u,{value:"pribadi",className:"hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{children:"Keperluan Pribadi"})]})}),e.jsx(u,{value:"lainnya",className:"hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{children:"Lainnya"})]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Mulai"}),e.jsx(h,{type:"date",name:"tanggalMulai",value:s.tanggalMulai,onChange:o,required:!0,className:"focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Selesai"}),e.jsx(h,{type:"date",name:"tanggalSelesai",value:s.tanggalSelesai,onChange:o,required:!0,min:s.tanggalMulai,className:"focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Alasan"}),e.jsx(h,{name:"alasan",value:s.alasan,onChange:o,placeholder:"Contoh: Sakit demam, ada acara keluarga, dll.",required:!0,className:"focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keterangan"}),e.jsx(P,{name:"keterangan",type:"textarea",value:s.keterangan,onChange:()=>o,placeholder:"Berikan penjelasan lebih detail jika diperlukan...",rows:4,className:"focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100",children:[e.jsx(m,{variant:"outline",type:"button",onClick:()=>c(!1),className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:"Batal"}),e.jsxs(m,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 transition-colors",children:[e.jsx(J,{className:"mr-2 w-4 h-4"})," Ajukan Izin"]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs(m,{onClick:()=>c(!0),className:"bg-blue-600 hover:bg-blue-700 transition-colors",children:[e.jsx(V,{className:"mr-2",size:16})," Ajukan Izin Baru"]})}),i.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 bg-gray-50 rounded-lg",children:[e.jsx(B,{className:"w-10 h-10 text-gray-400 mb-3"}),e.jsx("h3",{className:"text-lg font-medium text-gray-500 mb-1",children:"Belum ada pengajuan izin"}),e.jsx("p",{className:"text-gray-400 text-center max-w-md px-4",children:'Anda belum membuat permohonan izin. Klik tombol "Ajukan Izin Baru" untuk membuat pengajuan.'})]}):e.jsx("div",{className:"space-y-4",children:i.map(a=>e.jsxs("div",{className:"border rounded-lg p-5 shadow-sm hover:shadow-md transition-shadow bg-white",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("h3",{className:"font-semibold text-lg text-gray-800 capitalize",children:[a.jenis==="sakit"&&"Izin Sakit",a.jenis==="dispensasi"&&"Dispensasi",a.jenis==="pribadi"&&"Keperluan Pribadi",a.jenis==="lainnya"&&"Lainnya"]})}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[e.jsx($,{className:"inline mr-1 w-4 h-4"}),new Date(a.tanggalMulai).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})," - ",new Date(a.tanggalSelesai).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})]})]}),e.jsxs(O,{variant:"outline",className:`flex items-center gap-1 px-3 py-1 ${a.status==="disetujui"?"bg-green-50 text-green-600 border-green-100":a.status==="ditolak"?"bg-red-50 text-red-600 border-red-100":a.status==="dibatalkan"?"bg-gray-50 text-gray-600 border-gray-100":"bg-yellow-50 text-yellow-600 border-yellow-100"}`,children:[j(a.status),e.jsxs("span",{className:"capitalize",children:[a.status==="menunggu"&&"Menunggu",a.status==="disetujui"&&"Disetujui",a.status==="ditolak"&&"Ditolak",a.status==="dibatalkan"&&"Dibatalkan"]})]})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Alasan"}),e.jsx("p",{className:"font-medium text-gray-800",children:a.alasan})]}),a.keterangan&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Keterangan"}),e.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:a.keterangan})]})]}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs text-gray-400",children:["Diajukan pada: ",new Date(a.dibuatPada).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),a.status==="menunggu"&&e.jsx(m,{variant:"destructive",size:"sm",onClick:()=>v(a.id),className:"hover:bg-red-600 transition-colors",children:"Batalkan Pengajuan"})]})]},a.id))})]})})};export{ue as default};
