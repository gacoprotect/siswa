import{a as I,r,j as e}from"./app-eSOozAuS.js";import{c as u}from"./utils-CXz1v5ar.js";import{I as q}from"./InputGroup-CufayXuF.js";import{C as z}from"./circle-alert-hs5VovEv.js";import{X as B}from"./x-Dd4G8X-v.js";const S={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl",full:"w-full mx-6"},U=({title:a="",size:l="md",isOpen:t,onClose:c,children:N,closeOnOverlayClick:k=!0,closeOnEsc:h=!0,overlayClassName:E="",className:C="",header:M=!0,footer:p,onConfirm:b,cancelText:L="Batal",confirmText:R="Setuju",confirmDisabled:g=!1,confirmClassName:$="bg-primary text-primary-foreground hover:bg-primary/90",error:n,onScrollToBottom:d,agreement:x})=>{const{log:K}=I(),[m,i]=r.useState(!1),[j,w]=r.useState(!1),y=r.useRef(null),A=r.useCallback(()=>{const s=!!n,o=!!x,f=!!d;return!!(g||s||o&&!m||f&&!j)},[g,n,x,m,d,j]);r.useEffect(()=>{const s=y.current;if(!s||!t)return;const o=()=>{const f=s.scrollTop+s.clientHeight>=s.scrollHeight-10;w(f),f&&d&&d()};return s.addEventListener("scroll",o),()=>s.removeEventListener("scroll",o)},[t,d]),r.useEffect(()=>{if(!t||!h)return;const s=o=>{o.key==="Escape"&&(c(),i(!1))};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t,h,c]);const H=s=>{k&&s.target===s.currentTarget&&(c(),i(!1))};if(r.useEffect(()=>{t||(i(!1),w(!1))},[t]),!t)return null;const v=()=>{c(),i(!1)};return e.jsx("div",{className:`fixed inset-0 z-50 min-h-screen flex items-center justify-center bg-black/50 backdrop-blur-sm ${E}`,onClick:H,children:e.jsxs("div",{className:u(`bg-secondary text-secondary-foreground rounded-lg shadow-lg flex flex-col max-h-[90vh] ${S[l]}`,C),children:[M&&e.jsx(D,{onClose:v,children:a}),e.jsx(F,{className:"flex-1 overflow-auto",ref:y,children:N}),x&&e.jsxs("div",{className:"flex gap-2 px-4 text-sm",children:[e.jsx(q,{name:"agreement",type:"checkbox",checked:m,onChange:s=>i(!!s),classNameInput:u("h-5 w-5 form-checkbox rounded accent-blue-500",!m&&"animate-pulse bg-accent-primary",n&&"accent-red-500")}),x]}),(p||b)&&e.jsxs(G,{className:u(n&&"justify-between"),children:[n&&e.jsxs("p",{className:"flex items-center gap-2 text-xs text-red-500 mt-1",children:[e.jsx(z,{className:"text-red-500 w-4 h-4"}),n]}),p||e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("button",{onClick:v,className:"px-4 py-2 text-white text-sm font-medium rounded-md bg-red-500 hover:bg-red-400",children:L}),e.jsx("button",{onClick:b,disabled:A(),className:u("px-4 py-2 text-sm font-medium rounded-md disabled:opacity-50 disabled:cursor-not-allowed",$),children:R})]})]})]})})},D=({children:a,className:l="",showCloseButton:t=!0,onClose:c})=>e.jsxs("div",{className:`flex justify-between items-center p-4 border-b ${l}`,children:[e.jsx("h3",{className:"text-xl font-semibold",children:a}),t&&e.jsx("button",{onClick:c,className:"text-red-500 hover:text-accent-foreground text-2xl","aria-label":"Close",children:e.jsx(B,{})})]}),F=r.forwardRef(({children:a,className:l=""},t)=>e.jsx("div",{ref:t,className:`p-2 overflow-auto ${l}`,children:a})),G=({children:a,className:l=""})=>e.jsx("div",{className:u("px-6 py-2 border-t flex justify-end space-x-2 ",l),children:a});export{U as M};
