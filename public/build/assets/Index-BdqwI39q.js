import{R as Ft,j as c,r as l,K as Ce,m as Lt,L as _t,S as Je,a as $t,g as Bt,b as Wt}from"./app-DqyZ9fpM.js";import{M as Ut}from"./Modal-9Ca8uyRb.js";import{m as Kt,c as Vt,f as Ht}from"./utils-CXz1v5ar.js";import{A as qt,S as zt}from"./SetupPin-BplH_Y50.js";import{S as et,u as G}from"./index-DdzKDRQy.js";import{u as Gt}from"./use-toast-D-f69EMm.js";import{A as he}from"./AppLayout-BzZWUT1O.js";import{G as Yt,e as Zt,f as Qt,g as Xt,h as Jt,i as en,j as tn,k as nn,l as rn,m as on,n as an,o as sn,p as cn,q as ln,r as un}from"./index-CFHXSCg8.js";import dn from"./Topup-C7iZDM1K.js";import fn from"./Tagihan-C71PEgt2.js";import mn from"./DataSiswaContent-C74DPb_o.js";import pn from"./Excul-qYoXaJxK.js";import hn from"./Pin-Dh0Q0uCB.js";import gn from"./TagihanContent-DLOs4ykO.js";/* empty css            */import"./x-Bm3CplTw.js";import"./clsx-B-dksMZM.js";import"./InputGroup-DWPKDE7o.js";import"./copy-gMMyhPF7.js";import"./TambahTagihan-Cc5VzOZo.js";const De=Ft.forwardRef(({value:e,onChange:t,onKeyDown:n,onPaste:r,type:o="text",error:a=!1,autoFocus:s=!1},i)=>c.jsx("input",{ref:i,type:o,inputMode:"numeric",pattern:"[0-9]*",maxLength:1,required:!0,autoComplete:"off",className:`h-12 w-12 rounded-md border text-center text-2xl focus:ring-1 focus:outline-none ${a?"border-red-500 focus:ring-red-500":"border-gray-300 focus:border-blue-500 focus:ring-blue-500"}`,value:e,onChange:t,onKeyDown:n,onPaste:r,autoFocus:s,onFocus:d=>d.target.select()}));De.displayName="DigitInput";const vn=({otp:e,phone:t,errors:n,processing:r,countdown:o,onOtpChange:a,onKeyDown:s,onBack:i,onResendOtp:d,onSubmit:m,inputRefs:g})=>{const f=(h,u)=>{var p;const y=h.target.value.replace(/\D/g,"");a(y,u),y&&u<5&&g.current[u+1]&&((p=g.current[u+1])==null||p.focus())};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("button",{onClick:i,className:"flex items-center text-sm text-gray-600 hover:text-gray-800",type:"button",children:[c.jsx(qt,{className:"mr-1 h-4 w-4"}),"Kembali"]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-center text-2xl font-bold text-gray-900",children:"Verifikasi OTP"}),c.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Masukkan 6 digit kode OTP yang dikirim ke +62",t]})]}),n.message&&c.jsx("div",{className:"text-center text-sm text-red-500",children:n.message}),c.jsxs("form",{onSubmit:m,className:"space-y-6",children:[c.jsx("div",{className:"flex justify-center space-x-2",children:Array.from({length:6}).map((h,u)=>c.jsx(De,{ref:y=>{g.current[u]=y},value:e[u]||"",onChange:y=>f(y,u),onKeyDown:y=>s(y,u),error:!!n.message,autoFocus:u===0},u))}),c.jsx("div",{className:"text-center",children:o>0?c.jsxs("p",{className:"text-sm text-gray-500",children:["Kirim ulang OTP dalam ",o," detik"]}):c.jsx("button",{type:"button",onClick:d,className:"text-sm text-blue-600 hover:text-blue-800",children:"Kirim Ulang OTP"})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:r||e.length!==6,className:`flex w-full justify-center rounded-md border border-transparent px-4 py-2 text-sm font-medium text-white shadow-sm ${e.length===6?"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500":"cursor-not-allowed bg-gray-400"} focus:ring-2 focus:ring-offset-2 focus:outline-none`,children:r?"Memverifikasi...":"Verifikasi"})})]})]})},yn=({phone:e,errors:t,processing:n,registeredPhone:r,onPhoneChange:o,onSubmit:a})=>c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-center text-2xl font-bold text-gray-900",children:"Masukkan Nomor HP Anda yang terdaftar"}),c.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Kami akan mengirimkan kode OTP ke nomor ini ",c.jsx("br",{}),r]})]}),t.phone&&c.jsx("div",{className:"text-center text-sm text-red-500",children:t.phone}),c.jsxs("form",{onSubmit:a,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Nomor Handphone"}),c.jsxs("div",{className:"relative mt-1 rounded-md shadow-sm",children:[c.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:c.jsx("span",{className:"text-gray-500 sm:text-sm",children:"+62"})}),c.jsx("input",{type:"tel",id:"phone",name:"phone",autoComplete:"tel",className:`block w-full rounded-md border-2 ${t.phone?"border-red-500":"border-gray-300"} py-2 pl-12 focus:border-blue-500 focus:ring-blue-500`,placeholder:"8123456789",value:e,onChange:s=>o(s.target.value.replace(/\D/g,"")),required:!0})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:n||e.length<10,className:`flex w-full justify-center rounded-md border border-transparent px-4 py-2 text-sm font-medium text-white shadow-sm ${e.length>=10?"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500":"cursor-not-allowed bg-gray-400"} focus:ring-2 focus:ring-offset-2 focus:outline-none`,children:n?"Mengirim OTP...":"Kirim Kode OTP"})})]})]}),xn=({pin:e,errors:t,inputType:n,processing:r,onPinChange:o,onKeyDown:a,onPaste:s,onToggleInputType:i,onSubmit:d,setInputRef:m,inputRefs:g})=>{const f=(h,u)=>{var p;const y=h.target.value.replace(/\D/g,"");o(h,u),y&&u<5&&g.current[u+1]&&((p=g.current[u+1])==null||p.focus())};return c.jsx("div",{className:"flex items-center justify-center",children:c.jsxs("div",{className:"w-full max-w-md space-y-8",children:[c.jsx("div",{children:c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Masukkan PIN"})}),t.pin&&c.jsx("div",{className:"mb-4 text-center text-sm text-red-500",children:t.pin}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[c.jsx("div",{className:"flex justify-center space-x-2",children:Array.from({length:6}).map((h,u)=>c.jsx(De,{ref:y=>{g.current[u]=y},type:n,value:e[u]||"",onChange:y=>f(y,u),onKeyDown:y=>a(y,u),onPaste:s,autoFocus:u===0},u))}),c.jsx("div",{className:"flex justify-center",children:c.jsx("button",{type:"button",className:"text-sm text-gray-600 hover:text-gray-800",onClick:i,children:n==="password"?"Tampilkan PIN":"Sembunyikan PIN"})}),c.jsx("div",{className:"flex flex-col space-y-2",children:c.jsx("button",{type:"submit",disabled:r||e.length!==6,className:`group relative flex w-full justify-center rounded-md border border-transparent px-4 py-2 text-sm font-medium text-white ${e.length===6?"bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:outline-none":"cursor-not-allowed bg-gray-400"}`,children:r?"Memverifikasi...":"Masuk"})})]})]})})},bn=({open:e,onClose:t,setLoading:n})=>{const[r,o]=l.useState("pin"),{errors:a,data:s}=Ce().props,[i,d]=l.useState(0),[m,g]=l.useState("password"),{data:f,setData:h,post:u,processing:y,reset:p}=Lt({phone:"",otp:"",pin:"",nouid:s.nouid??""}),v=l.useRef(Array(6).fill(null)),x=l.useRef(Array(6).fill(null));l.useEffect(()=>{if(i<=0)return;const w=setTimeout(()=>d(i-1),1e3);return()=>clearTimeout(w)},[i]),l.useEffect(()=>{const S=window.location.pathname.split("/")[1];h("nouid",S)},[h]),l.useEffect(()=>{var w,S;e&&r==="pin"&&x.current[0]&&((w=x.current[0])==null||w.focus()),e&&r==="otp"&&v.current[0]&&((S=v.current[0])==null||S.focus())},[e,r]);const b=(w,S)=>{const R=f.pin.split("");R[S]=w.charAt(w.length-1)||"",h("pin",R.join(""))},j=w=>{w.preventDefault();const S=route("otp.send",s.nouid);u(S,{onSuccess:()=>{o("otp"),d(60)}})},E=()=>{Je.post(route("siswa.blocked",s.nouid),{},{})},N=w=>{w.preventDefault(),u(route("otp.verif",s.nouid),{onSuccess:()=>{n==null||n(!0),console.log("KARTU DIBLOKIR"),E()}})},k=w=>{w.preventDefault(),/^\d{6}$/.test(f.pin)&&u(route("siswa.verify-pin",{nouid:s.nouid,p:"auth"}),{preserveState:!0,onSuccess:()=>{o("phone"),p()},onError:()=>{var S;h("pin",""),x.current[0]&&((S=x.current[0])==null||S.focus())}})},C=()=>{u(route("otp.send",s.nouid),{onSuccess:()=>{d(60)}})},D=(w,S,R)=>{const K=f[S].split("");K[R]=w.charAt(w.length-1)||"",h(S,K.join(""))},O=(w,S)=>{var R;w.key==="Backspace"&&!f.otp[S]&&S>0&&v.current[S-1]&&((R=v.current[S-1])==null||R.focus())},M=(w,S)=>{var R;w.key==="Backspace"&&!f.pin[S]&&S>0&&x.current[S-1]&&((R=x.current[S-1])==null||R.focus())},Y=(w,S)=>{var K;w.preventDefault();const R=w.clipboardData.getData("text/plain").replace(/\D/g,"").slice(0,6);if(R.length>0){h(S,R);const te=Math.min(R.length-1,5),ne=x;ne.current[te]&&((K=ne.current[te])==null||K.focus())}};return c.jsx(Ut,{title:"Verifikasi PIN",isOpen:e,onClose:t,children:c.jsxs("div",{className:"flex items-center justify-center",children:[c.jsx(_t,{title:r==="pin"?"Verifikasi PIN":r==="otp"?"Verifikasi OTP":"Verifikasi Nomor Telepon"}),c.jsxs("div",{className:"w-full max-w-md rounded-lg",children:[r==="pin"&&c.jsx(xn,{pin:f.pin,errors:a,inputType:m,processing:y,onPinChange:(w,S)=>b(w.target.value,S),onKeyDown:M,onPaste:w=>Y(w,"pin"),onToggleInputType:()=>g(m==="password"?"text":"password"),onSubmit:k,setInputRef:(w,S)=>{x.current[S]=w},inputRefs:x}),r==="phone"&&c.jsx(yn,{phone:f.phone,errors:a,processing:y,registeredPhone:Kt(s.siswa.tel??""),onPhoneChange:w=>h("phone",w),onSubmit:j}),r==="otp"&&c.jsx(vn,{otp:f.otp,phone:f.phone,errors:a,processing:y,countdown:i,onOtpChange:(w,S)=>D(w,"otp",S),onKeyDown:O,onBack:()=>o("phone"),onResendOtp:C,onSubmit:N,inputRefs:v})]})]})})};function U(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function wn(e,t){const n=l.createContext(t),r=a=>{const{children:s,...i}=a,d=l.useMemo(()=>i,Object.values(i));return c.jsx(n.Provider,{value:d,children:s})};r.displayName=e+"Provider";function o(a){const s=l.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,o]}function jn(e,t=[]){let n=[];function r(a,s){const i=l.createContext(s),d=n.length;n=[...n,s];const m=f=>{var x;const{scope:h,children:u,...y}=f,p=((x=h==null?void 0:h[e])==null?void 0:x[d])||i,v=l.useMemo(()=>y,Object.values(y));return c.jsx(p.Provider,{value:v,children:u})};m.displayName=a+"Provider";function g(f,h){var p;const u=((p=h==null?void 0:h[e])==null?void 0:p[d])||i,y=l.useContext(u);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[m,g]}const o=()=>{const a=n.map(s=>l.createContext(s));return function(i){const d=(i==null?void 0:i[e])||a;return l.useMemo(()=>({[`__scope${e}`]:{...i,[e]:d}}),[i,d])}};return o.scopeName=e,[r,En(o,...t)]}function En(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const s=r.reduce((i,{useScope:d,scopeName:m})=>{const f=d(a)[`__scope${m}`];return{...i,...f}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var de=globalThis!=null&&globalThis.document?l.useLayoutEffect:()=>{},Nn=$t.useId||(()=>{}),Sn=0;function ge(e){const[t,n]=l.useState(Nn());return de(()=>{n(r=>r??String(Sn++))},[e]),e||(t?`radix-${t}`:"")}function q(e){const t=l.useRef(e);return l.useEffect(()=>{t.current=e}),l.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Cn({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=Pn({defaultProp:t,onChange:n}),a=e!==void 0,s=a?e:r,i=q(n),d=l.useCallback(m=>{if(a){const f=typeof m=="function"?m(e):m;f!==e&&i(f)}else o(m)},[a,e,o,i]);return[s,d]}function Pn({defaultProp:e,onChange:t}){const n=l.useState(e),[r]=n,o=l.useRef(r),a=q(t);return l.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),n}var tt=Wt();const On=Bt(tt);var kn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$=kn.reduce((e,t)=>{const n=l.forwardRef((r,o)=>{const{asChild:a,...s}=r,i=a?et:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(i,{...s,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Dn(e,t){e&&tt.flushSync(()=>e.dispatchEvent(t))}function An(e,t=globalThis==null?void 0:globalThis.document){const n=q(e);l.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Rn="DismissableLayer",Pe="dismissableLayer.update",Tn="dismissableLayer.pointerDownOutside",In="dismissableLayer.focusOutside",Fe,nt=l.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rt=l.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:s,onDismiss:i,...d}=e,m=l.useContext(nt),[g,f]=l.useState(null),h=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,u]=l.useState({}),y=G(t,C=>f(C)),p=Array.from(m.layers),[v]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),x=p.indexOf(v),b=g?p.indexOf(g):-1,j=m.layersWithOutsidePointerEventsDisabled.size>0,E=b>=x,N=Ln(C=>{const D=C.target,O=[...m.branches].some(M=>M.contains(D));!E||O||(o==null||o(C),s==null||s(C),C.defaultPrevented||i==null||i())},h),k=_n(C=>{const D=C.target;[...m.branches].some(M=>M.contains(D))||(a==null||a(C),s==null||s(C),C.defaultPrevented||i==null||i())},h);return An(C=>{b===m.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&i&&(C.preventDefault(),i()))},h),l.useEffect(()=>{if(g)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Fe=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),Le(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Fe)}},[g,h,n,m]),l.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),Le())},[g,m]),l.useEffect(()=>{const C=()=>u({});return document.addEventListener(Pe,C),()=>document.removeEventListener(Pe,C)},[]),c.jsx($.div,{...d,ref:y,style:{pointerEvents:j?E?"auto":"none":void 0,...e.style},onFocusCapture:U(e.onFocusCapture,k.onFocusCapture),onBlurCapture:U(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:U(e.onPointerDownCapture,N.onPointerDownCapture)})});rt.displayName=Rn;var Mn="DismissableLayerBranch",Fn=l.forwardRef((e,t)=>{const n=l.useContext(nt),r=l.useRef(null),o=G(t,r);return l.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),c.jsx($.div,{...e,ref:o})});Fn.displayName=Mn;function Ln(e,t=globalThis==null?void 0:globalThis.document){const n=q(e),r=l.useRef(!1),o=l.useRef(()=>{});return l.useEffect(()=>{const a=i=>{if(i.target&&!r.current){let d=function(){ot(Tn,n,m,{discrete:!0})};const m={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=d,t.addEventListener("click",o.current,{once:!0})):d()}else t.removeEventListener("click",o.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function _n(e,t=globalThis==null?void 0:globalThis.document){const n=q(e),r=l.useRef(!1);return l.useEffect(()=>{const o=a=>{a.target&&!r.current&&ot(In,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Le(){const e=new CustomEvent(Pe);document.dispatchEvent(e)}function ot(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Dn(o,a):o.dispatchEvent(a)}var ve="focusScope.autoFocusOnMount",ye="focusScope.autoFocusOnUnmount",_e={bubbles:!1,cancelable:!0},$n="FocusScope",at=l.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...s}=e,[i,d]=l.useState(null),m=q(o),g=q(a),f=l.useRef(null),h=G(t,p=>d(p)),u=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(r){let p=function(j){if(u.paused||!i)return;const E=j.target;i.contains(E)?f.current=E:B(f.current,{select:!0})},v=function(j){if(u.paused||!i)return;const E=j.relatedTarget;E!==null&&(i.contains(E)||B(f.current,{select:!0}))},x=function(j){if(document.activeElement===document.body)for(const N of j)N.removedNodes.length>0&&B(i)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const b=new MutationObserver(x);return i&&b.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),b.disconnect()}}},[r,i,u.paused]),l.useEffect(()=>{if(i){Be.add(u);const p=document.activeElement;if(!i.contains(p)){const x=new CustomEvent(ve,_e);i.addEventListener(ve,m),i.dispatchEvent(x),x.defaultPrevented||(Bn(Hn(st(i)),{select:!0}),document.activeElement===p&&B(i))}return()=>{i.removeEventListener(ve,m),setTimeout(()=>{const x=new CustomEvent(ye,_e);i.addEventListener(ye,g),i.dispatchEvent(x),x.defaultPrevented||B(p??document.body,{select:!0}),i.removeEventListener(ye,g),Be.remove(u)},0)}}},[i,m,g,u]);const y=l.useCallback(p=>{if(!n&&!r||u.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,x=document.activeElement;if(v&&x){const b=p.currentTarget,[j,E]=Wn(b);j&&E?!p.shiftKey&&x===E?(p.preventDefault(),n&&B(j,{select:!0})):p.shiftKey&&x===j&&(p.preventDefault(),n&&B(E,{select:!0})):x===b&&p.preventDefault()}},[n,r,u.paused]);return c.jsx($.div,{tabIndex:-1,...s,ref:h,onKeyDown:y})});at.displayName=$n;function Bn(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(B(r,{select:t}),document.activeElement!==n)return}function Wn(e){const t=st(e),n=$e(t,e),r=$e(t.reverse(),e);return[n,r]}function st(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $e(e,t){for(const n of e)if(!Un(n,{upTo:t}))return n}function Un(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Kn(e){return e instanceof HTMLInputElement&&"select"in e}function B(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Kn(e)&&t&&e.select()}}var Be=Vn();function Vn(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=We(e,t),e.unshift(t)},remove(t){var n;e=We(e,t),(n=e[0])==null||n.resume()}}}function We(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Hn(e){return e.filter(t=>t.tagName!=="A")}var qn="Portal",it=l.forwardRef((e,t)=>{var i;const{container:n,...r}=e,[o,a]=l.useState(!1);de(()=>a(!0),[]);const s=n||o&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return s?On.createPortal(c.jsx($.div,{...r,ref:t}),s):null});it.displayName=qn;function zn(e,t){return l.useReducer((n,r)=>t[n][r]??n,e)}var me=e=>{const{present:t,children:n}=e,r=Gn(t),o=typeof n=="function"?n({present:r.isPresent}):l.Children.only(n),a=G(r.ref,Yn(o));return typeof n=="function"||r.isPresent?l.cloneElement(o,{ref:a}):null};me.displayName="Presence";function Gn(e){const[t,n]=l.useState(),r=l.useRef({}),o=l.useRef(e),a=l.useRef("none"),s=e?"mounted":"unmounted",[i,d]=zn(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return l.useEffect(()=>{const m=re(r.current);a.current=i==="mounted"?m:"none"},[i]),de(()=>{const m=r.current,g=o.current;if(g!==e){const h=a.current,u=re(m);e?d("MOUNT"):u==="none"||(m==null?void 0:m.display)==="none"?d("UNMOUNT"):d(g&&h!==u?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,d]),de(()=>{if(t){let m;const g=t.ownerDocument.defaultView??window,f=u=>{const p=re(r.current).includes(u.animationName);if(u.target===t&&p&&(d("ANIMATION_END"),!o.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",m=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=u=>{u.target===t&&(a.current=re(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{g.clearTimeout(m),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:l.useCallback(m=>{m&&(r.current=getComputedStyle(m)),n(m)},[])}}function re(e){return(e==null?void 0:e.animationName)||"none"}function Yn(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var xe=0;function Zn(){l.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ue()),document.body.insertAdjacentElement("beforeend",e[1]??Ue()),xe++,()=>{xe===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),xe--}},[])}function Ue(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var L=function(){return L=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},L.apply(this,arguments)};function ct(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function Qn(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var le="right-scroll-bar-position",ue="width-before-scroll-bar",Xn="with-scroll-bars-hidden",Jn="--removed-body-scroll-bar-size";function be(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function er(e,t){var n=l.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var tr=typeof window<"u"?l.useLayoutEffect:l.useEffect,Ke=new WeakMap;function nr(e,t){var n=er(null,function(r){return e.forEach(function(o){return be(o,r)})});return tr(function(){var r=Ke.get(n);if(r){var o=new Set(r),a=new Set(e),s=n.current;o.forEach(function(i){a.has(i)||be(i,null)}),a.forEach(function(i){o.has(i)||be(i,s)})}Ke.set(n,e)},[e]),n}function rr(e){return e}function or(e,t){t===void 0&&(t=rr);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var s=t(a,r);return n.push(s),function(){n=n.filter(function(i){return i!==s})}},assignSyncMedium:function(a){for(r=!0;n.length;){var s=n;n=[],s.forEach(a)}n={push:function(i){return a(i)},filter:function(){return n}}},assignMedium:function(a){r=!0;var s=[];if(n.length){var i=n;n=[],i.forEach(a),s=n}var d=function(){var g=s;s=[],g.forEach(a)},m=function(){return Promise.resolve().then(d)};m(),n={push:function(g){s.push(g),m()},filter:function(g){return s=s.filter(g),n}}}};return o}function ar(e){e===void 0&&(e={});var t=or(null);return t.options=L({async:!0,ssr:!1},e),t}var lt=function(e){var t=e.sideCar,n=ct(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return l.createElement(r,L({},n))};lt.isSideCarExport=!0;function sr(e,t){return e.useMedium(t),lt}var ut=ar(),we=function(){},pe=l.forwardRef(function(e,t){var n=l.useRef(null),r=l.useState({onScrollCapture:we,onWheelCapture:we,onTouchMoveCapture:we}),o=r[0],a=r[1],s=e.forwardProps,i=e.children,d=e.className,m=e.removeScrollBar,g=e.enabled,f=e.shards,h=e.sideCar,u=e.noIsolation,y=e.inert,p=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,b=e.gapMode,j=ct(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=h,N=nr([n,t]),k=L(L({},j),o);return l.createElement(l.Fragment,null,g&&l.createElement(E,{sideCar:ut,removeScrollBar:m,shards:f,noIsolation:u,inert:y,setCallbacks:a,allowPinchZoom:!!p,lockRef:n,gapMode:b}),s?l.cloneElement(l.Children.only(i),L(L({},k),{ref:N})):l.createElement(x,L({},k,{className:d,ref:N}),i))});pe.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pe.classNames={fullWidth:ue,zeroRight:le};var ir=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cr(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ir();return t&&e.setAttribute("nonce",t),e}function lr(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ur(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var dr=function(){var e=0,t=null;return{add:function(n){e==0&&(t=cr())&&(lr(t,n),ur(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},fr=function(){var e=dr();return function(t,n){l.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},dt=function(){var e=fr(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},mr={left:0,top:0,right:0,gap:0},je=function(e){return parseInt(e||"",10)||0},pr=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[je(n),je(r),je(o)]},hr=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return mr;var t=pr(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},gr=dt(),J="data-scroll-locked",vr=function(e,t,n,r){var o=e.left,a=e.top,s=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Xn,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(J,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(le,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(ue,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(le," .").concat(le,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ue," .").concat(ue,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(J,`] {
    `).concat(Jn,": ").concat(i,`px;
  }
`)},Ve=function(){var e=parseInt(document.body.getAttribute(J)||"0",10);return isFinite(e)?e:0},yr=function(){l.useEffect(function(){return document.body.setAttribute(J,(Ve()+1).toString()),function(){var e=Ve()-1;e<=0?document.body.removeAttribute(J):document.body.setAttribute(J,e.toString())}},[])},xr=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;yr();var a=l.useMemo(function(){return hr(o)},[o]);return l.createElement(gr,{styles:vr(a,!t,o,n?"":"!important")})},Oe=!1;if(typeof window<"u")try{var oe=Object.defineProperty({},"passive",{get:function(){return Oe=!0,!0}});window.addEventListener("test",oe,oe),window.removeEventListener("test",oe,oe)}catch{Oe=!1}var Z=Oe?{passive:!1}:!1,br=function(e){return e.tagName==="TEXTAREA"},ft=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!br(e)&&n[t]==="visible")},wr=function(e){return ft(e,"overflowY")},jr=function(e){return ft(e,"overflowX")},He=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=mt(e,r);if(o){var a=pt(e,r),s=a[1],i=a[2];if(s>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Er=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Nr=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},mt=function(e,t){return e==="v"?wr(t):jr(t)},pt=function(e,t){return e==="v"?Er(t):Nr(t)},Sr=function(e,t){return e==="h"&&t==="rtl"?-1:1},Cr=function(e,t,n,r,o){var a=Sr(e,window.getComputedStyle(t).direction),s=a*r,i=n.target,d=t.contains(i),m=!1,g=s>0,f=0,h=0;do{var u=pt(e,i),y=u[0],p=u[1],v=u[2],x=p-v-a*y;(y||x)&&mt(e,i)&&(f+=x,h+=y),i instanceof ShadowRoot?i=i.host:i=i.parentNode}while(!d&&i!==document.body||d&&(t.contains(i)||t===i));return(g&&Math.abs(f)<1||!g&&Math.abs(h)<1)&&(m=!0),m},ae=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},qe=function(e){return[e.deltaX,e.deltaY]},ze=function(e){return e&&"current"in e?e.current:e},Pr=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Or=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},kr=0,Q=[];function Dr(e){var t=l.useRef([]),n=l.useRef([0,0]),r=l.useRef(),o=l.useState(kr++)[0],a=l.useState(dt)[0],s=l.useRef(e);l.useEffect(function(){s.current=e},[e]),l.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var p=Qn([e.lockRef.current],(e.shards||[]).map(ze),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var i=l.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!s.current.allowPinchZoom;var x=ae(p),b=n.current,j="deltaX"in p?p.deltaX:b[0]-x[0],E="deltaY"in p?p.deltaY:b[1]-x[1],N,k=p.target,C=Math.abs(j)>Math.abs(E)?"h":"v";if("touches"in p&&C==="h"&&k.type==="range")return!1;var D=He(C,k);if(!D)return!0;if(D?N=C:(N=C==="v"?"h":"v",D=He(C,k)),!D)return!1;if(!r.current&&"changedTouches"in p&&(j||E)&&(r.current=N),!N)return!0;var O=r.current||N;return Cr(O,v,p,O==="h"?j:E)},[]),d=l.useCallback(function(p){var v=p;if(!(!Q.length||Q[Q.length-1]!==a)){var x="deltaY"in v?qe(v):ae(v),b=t.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&Pr(N.delta,x)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var j=(s.current.shards||[]).map(ze).filter(Boolean).filter(function(N){return N.contains(v.target)}),E=j.length>0?i(v,j[0]):!s.current.noIsolation;E&&v.cancelable&&v.preventDefault()}}},[]),m=l.useCallback(function(p,v,x,b){var j={name:p,delta:v,target:x,should:b,shadowParent:Ar(x)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(E){return E!==j})},1)},[]),g=l.useCallback(function(p){n.current=ae(p),r.current=void 0},[]),f=l.useCallback(function(p){m(p.type,qe(p),p.target,i(p,e.lockRef.current))},[]),h=l.useCallback(function(p){m(p.type,ae(p),p.target,i(p,e.lockRef.current))},[]);l.useEffect(function(){return Q.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",d,Z),document.addEventListener("touchmove",d,Z),document.addEventListener("touchstart",g,Z),function(){Q=Q.filter(function(p){return p!==a}),document.removeEventListener("wheel",d,Z),document.removeEventListener("touchmove",d,Z),document.removeEventListener("touchstart",g,Z)}},[]);var u=e.removeScrollBar,y=e.inert;return l.createElement(l.Fragment,null,y?l.createElement(a,{styles:Or(o)}):null,u?l.createElement(xr,{gapMode:e.gapMode}):null)}function Ar(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Rr=sr(ut,Dr);var ht=l.forwardRef(function(e,t){return l.createElement(pe,L({},e,{ref:t,sideCar:Rr}))});ht.classNames=pe.classNames;var Tr=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},X=new WeakMap,se=new WeakMap,ie={},Ee=0,gt=function(e){return e&&(e.host||gt(e.parentNode))},Ir=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=gt(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Mr=function(e,t,n,r){var o=Ir(t,Array.isArray(e)?e:[e]);ie[n]||(ie[n]=new WeakMap);var a=ie[n],s=[],i=new Set,d=new Set(o),m=function(f){!f||i.has(f)||(i.add(f),m(f.parentNode))};o.forEach(m);var g=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(h){if(i.has(h))g(h);else try{var u=h.getAttribute(r),y=u!==null&&u!=="false",p=(X.get(h)||0)+1,v=(a.get(h)||0)+1;X.set(h,p),a.set(h,v),s.push(h),p===1&&y&&se.set(h,!0),v===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return g(t),i.clear(),Ee++,function(){s.forEach(function(f){var h=X.get(f)-1,u=a.get(f)-1;X.set(f,h),a.set(f,u),h||(se.has(f)||f.removeAttribute(r),se.delete(f)),u||f.removeAttribute(n)}),Ee--,Ee||(X=new WeakMap,X=new WeakMap,se=new WeakMap,ie={})}},Fr=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=Tr(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),Mr(r,o,n,"aria-hidden")):function(){return null}},Ae="Dialog",[vt,Io]=jn(Ae),[Lr,I]=vt(Ae),yt=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:s=!0}=e,i=l.useRef(null),d=l.useRef(null),[m=!1,g]=Cn({prop:r,defaultProp:o,onChange:a});return c.jsx(Lr,{scope:t,triggerRef:i,contentRef:d,contentId:ge(),titleId:ge(),descriptionId:ge(),open:m,onOpenChange:g,onOpenToggle:l.useCallback(()=>g(f=>!f),[g]),modal:s,children:n})};yt.displayName=Ae;var xt="DialogTrigger",_r=l.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=I(xt,n),a=G(t,o.triggerRef);return c.jsx($.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Ie(o.open),...r,ref:a,onClick:U(e.onClick,o.onOpenToggle)})});_r.displayName=xt;var Re="DialogPortal",[$r,bt]=vt(Re,{forceMount:void 0}),wt=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,a=I(Re,t);return c.jsx($r,{scope:t,forceMount:n,children:l.Children.map(r,s=>c.jsx(me,{present:n||a.open,children:c.jsx(it,{asChild:!0,container:o,children:s})}))})};wt.displayName=Re;var fe="DialogOverlay",jt=l.forwardRef((e,t)=>{const n=bt(fe,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=I(fe,e.__scopeDialog);return a.modal?c.jsx(me,{present:r||a.open,children:c.jsx(Br,{...o,ref:t})}):null});jt.displayName=fe;var Br=l.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=I(fe,n);return c.jsx(ht,{as:et,allowPinchZoom:!0,shards:[o.contentRef],children:c.jsx($.div,{"data-state":Ie(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),z="DialogContent",Et=l.forwardRef((e,t)=>{const n=bt(z,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=I(z,e.__scopeDialog);return c.jsx(me,{present:r||a.open,children:a.modal?c.jsx(Wr,{...o,ref:t}):c.jsx(Ur,{...o,ref:t})})});Et.displayName=z;var Wr=l.forwardRef((e,t)=>{const n=I(z,e.__scopeDialog),r=l.useRef(null),o=G(t,n.contentRef,r);return l.useEffect(()=>{const a=r.current;if(a)return Fr(a)},[]),c.jsx(Nt,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:U(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:U(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,i=s.button===0&&s.ctrlKey===!0;(s.button===2||i)&&a.preventDefault()}),onFocusOutside:U(e.onFocusOutside,a=>a.preventDefault())})}),Ur=l.forwardRef((e,t)=>{const n=I(z,e.__scopeDialog),r=l.useRef(!1),o=l.useRef(!1);return c.jsx(Nt,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,i;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(r.current||(i=n.triggerRef.current)==null||i.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{var d,m;(d=e.onInteractOutside)==null||d.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const s=a.target;((m=n.triggerRef.current)==null?void 0:m.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),Nt=l.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...s}=e,i=I(z,n),d=l.useRef(null),m=G(t,d);return Zn(),c.jsxs(c.Fragment,{children:[c.jsx(at,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:c.jsx(rt,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":Ie(i.open),...s,ref:m,onDismiss:()=>i.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(Vr,{titleId:i.titleId}),c.jsx(qr,{contentRef:d,descriptionId:i.descriptionId})]})]})}),Te="DialogTitle",St=l.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=I(Te,n);return c.jsx($.h2,{id:o.titleId,...r,ref:t})});St.displayName=Te;var Ct="DialogDescription",Pt=l.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=I(Ct,n);return c.jsx($.p,{id:o.descriptionId,...r,ref:t})});Pt.displayName=Ct;var Ot="DialogClose",Kr=l.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=I(Ot,n);return c.jsx($.button,{type:"button",...r,ref:t,onClick:U(e.onClick,()=>o.onOpenChange(!1))})});Kr.displayName=Ot;function Ie(e){return e?"open":"closed"}var kt="DialogTitleWarning",[Mo,Dt]=wn(kt,{contentName:z,titleName:Te,docsSlug:"dialog"}),Vr=({titleId:e})=>{const t=Dt(kt),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return l.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Hr="DialogDescriptionWarning",qr=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Dt(Hr).contentName}}.`;return l.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},zr=yt,Gr=wt,Yr=jt,Zr=Et,Qr=St,Xr=Pt;function Ge({open:e,onOpenChange:t,title:n,description:r,confirmText:o="Ya",cancelText:a="Batal",onConfirm:s,children:i,variant:d="danger"}){const m=l.useCallback(()=>{s(),t(!1)},[s,t]);return c.jsxs(zr,{open:e,onOpenChange:t,children:[i&&i,c.jsxs(Gr,{children:[c.jsx(Yr,{className:"fixed inset-0 bg-black/30 backdrop-blur-sm"}),c.jsxs(Zr,{className:"fixed top-1/2 left-1/2 z-50 w-[90vw] max-w-sm -translate-x-1/2 -translate-y-1/2 rounded-lg bg-white p-6 shadow-lg",children:[c.jsx(Qr,{className:"mb-2 text-xl font-bold text-gray-800",children:n}),c.jsx(Xr,{className:"mb-4 text-sm text-gray-600",children:r}),c.jsxs("div",{className:"flex justify-end space-x-3",children:[c.jsx("button",{onClick:()=>t(!1),className:"rounded-md bg-gray-100 px-4 py-2 text-sm hover:bg-gray-200",children:a}),c.jsx("button",{onClick:m,className:Vt("rounded-md px-4 py-2 text-sm text-white",d==="danger"?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"),children:o})]})]})]})]})}function Jr(e){return Yt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(null,arguments)}var eo=String.prototype.replace,to=/%20/g,no="RFC3986",ee={default:no,formatters:{RFC1738:function(e){return eo.call(e,to,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738"},Ne=Object.prototype.hasOwnProperty,V=Array.isArray,F=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Ye=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)e[r]!==void 0&&(n[r]=e[r]);return n},W={arrayToObject:Ye,assign:function(e,t){return Object.keys(t).reduce(function(n,r){return n[r]=t[r],n},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],a=o.obj[o.prop],s=Object.keys(a),i=0;i<s.length;++i){var d=s[i],m=a[d];typeof m=="object"&&m!==null&&n.indexOf(m)===-1&&(t.push({obj:a,prop:d}),n.push(m))}return function(g){for(;g.length>1;){var f=g.pop(),h=f.obj[f.prop];if(V(h)){for(var u=[],y=0;y<h.length;++y)h[y]!==void 0&&u.push(h[y]);f.obj[f.prop]=u}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},encode:function(e,t,n,r,o){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(m){return"%26%23"+parseInt(m.slice(2),16)+"%3B"});for(var s="",i=0;i<a.length;++i){var d=a.charCodeAt(i);d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||o===ee.RFC1738&&(d===40||d===41)?s+=a.charAt(i):d<128?s+=F[d]:d<2048?s+=F[192|d>>6]+F[128|63&d]:d<55296||d>=57344?s+=F[224|d>>12]+F[128|d>>6&63]+F[128|63&d]:(d=65536+((1023&d)<<10|1023&a.charCodeAt(i+=1)),s+=F[240|d>>18]+F[128|d>>12&63]+F[128|d>>6&63]+F[128|63&d])}return s},isBuffer:function(e){return!(!e||typeof e!="object"||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},maybeMap:function(e,t){if(V(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if(typeof n!="object"){if(V(t))t.push(n);else{if(!t||typeof t!="object")return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!Ne.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||typeof t!="object")return[t].concat(n);var o=t;return V(t)&&!V(n)&&(o=Ye(t,r)),V(t)&&V(n)?(n.forEach(function(a,s){if(Ne.call(t,s)){var i=t[s];i&&typeof i=="object"&&a&&typeof a=="object"?t[s]=e(i,a,r):t.push(a)}else t[s]=a}),t):Object.keys(n).reduce(function(a,s){var i=n[s];return a[s]=Ne.call(a,s)?e(a[s],i,r):i,a},o)}},ro=Object.prototype.hasOwnProperty,Ze={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},H=Array.isArray,oo=String.prototype.split,ao=Array.prototype.push,At=function(e,t){ao.apply(e,H(t)?t:[t])},so=Date.prototype.toISOString,Qe=ee.default,A={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:W.encode,encodeValuesOnly:!1,format:Qe,formatter:ee.formatters[Qe],indices:!1,serializeDate:function(e){return so.call(e)},skipNulls:!1,strictNullHandling:!1},io=function e(t,n,r,o,a,s,i,d,m,g,f,h,u,y){var p,v=t;if(typeof i=="function"?v=i(n,v):v instanceof Date?v=g(v):r==="comma"&&H(v)&&(v=W.maybeMap(v,function(w){return w instanceof Date?g(w):w})),v===null){if(o)return s&&!u?s(n,A.encoder,y,"key",f):n;v=""}if(typeof(p=v)=="string"||typeof p=="number"||typeof p=="boolean"||typeof p=="symbol"||typeof p=="bigint"||W.isBuffer(v)){if(s){var x=u?n:s(n,A.encoder,y,"key",f);if(r==="comma"&&u){for(var b=oo.call(String(v),","),j="",E=0;E<b.length;++E)j+=(E===0?"":",")+h(s(b[E],A.encoder,y,"value",f));return[h(x)+"="+j]}return[h(x)+"="+h(s(v,A.encoder,y,"value",f))]}return[h(n)+"="+h(String(v))]}var N,k=[];if(v===void 0)return k;if(r==="comma"&&H(v))N=[{value:v.length>0?v.join(",")||null:void 0}];else if(H(i))N=i;else{var C=Object.keys(v);N=d?C.sort(d):C}for(var D=0;D<N.length;++D){var O=N[D],M=typeof O=="object"&&O.value!==void 0?O.value:v[O];if(!a||M!==null){var Y=H(v)?typeof r=="function"?r(n,O):n:n+(m?"."+O:"["+O+"]");At(k,e(M,Y,r,o,a,s,i,d,m,g,f,h,u,y))}}return k},ke=Object.prototype.hasOwnProperty,co=Array.isArray,ce={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:W.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},lo=function(e){return e.replace(/&#(\d+);/g,function(t,n){return String.fromCharCode(parseInt(n,10))})},Rt=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},uo=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(o),i=s?o.slice(0,s.index):o,d=[];if(i){if(!n.plainObjects&&ke.call(Object.prototype,i)&&!n.allowPrototypes)return;d.push(i)}for(var m=0;n.depth>0&&(s=a.exec(o))!==null&&m<n.depth;){if(m+=1,!n.plainObjects&&ke.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(s[1])}return s&&d.push("["+o.slice(s.index)+"]"),function(g,f,h,u){for(var y=u?f:Rt(f,h),p=g.length-1;p>=0;--p){var v,x=g[p];if(x==="[]"&&h.parseArrays)v=[].concat(y);else{v=h.plainObjects?Object.create(null):{};var b=x.charAt(0)==="["&&x.charAt(x.length-1)==="]"?x.slice(1,-1):x,j=parseInt(b,10);h.parseArrays||b!==""?!isNaN(j)&&x!==b&&String(j)===b&&j>=0&&h.parseArrays&&j<=h.arrayLimit?(v=[])[j]=y:b!=="__proto__"&&(v[b]=y):v={0:y}}y=v}return y}(d,t,n,r)}},fo=function(e,t){var n=function(m){return ce}();if(e===""||e==null)return n.plainObjects?Object.create(null):{};for(var r=typeof e=="string"?function(m,g){var f,h={},u=(g.ignoreQueryPrefix?m.replace(/^\?/,""):m).split(g.delimiter,g.parameterLimit===1/0?void 0:g.parameterLimit),y=-1,p=g.charset;if(g.charsetSentinel)for(f=0;f<u.length;++f)u[f].indexOf("utf8=")===0&&(u[f]==="utf8=%E2%9C%93"?p="utf-8":u[f]==="utf8=%26%2310003%3B"&&(p="iso-8859-1"),y=f,f=u.length);for(f=0;f<u.length;++f)if(f!==y){var v,x,b=u[f],j=b.indexOf("]="),E=j===-1?b.indexOf("="):j+1;E===-1?(v=g.decoder(b,ce.decoder,p,"key"),x=g.strictNullHandling?null:""):(v=g.decoder(b.slice(0,E),ce.decoder,p,"key"),x=W.maybeMap(Rt(b.slice(E+1),g),function(N){return g.decoder(N,ce.decoder,p,"value")})),x&&g.interpretNumericEntities&&p==="iso-8859-1"&&(x=lo(x)),b.indexOf("[]=")>-1&&(x=co(x)?[x]:x),h[v]=ke.call(h,v)?W.combine(h[v],x):x}return h}(e,n):e,o=n.plainObjects?Object.create(null):{},a=Object.keys(r),s=0;s<a.length;++s){var i=a[s],d=uo(i,r[i],n,typeof e=="string");o=W.merge(o,d,n)}return W.compact(o)};class Se{constructor(t,n,r){var o,a;this.name=t,this.definition=n,this.bindings=(o=n.bindings)!=null?o:{},this.wheres=(a=n.wheres)!=null?a:{},this.config=r}get template(){const t=`${this.origin}/${this.definition.uri}`.replace(/\/+$/,"");return t===""?"/":t}get origin(){return this.config.absolute?this.definition.domain?`${this.config.url.match(/^\w+:\/\//)[0]}${this.definition.domain}${this.config.port?`:${this.config.port}`:""}`:this.config.url:""}get parameterSegments(){var t,n;return(t=(n=this.template.match(/{[^}?]+\??}/g))==null?void 0:n.map(r=>({name:r.replace(/{|\??}/g,""),required:!/\?}$/.test(r)})))!=null?t:[]}matchesUrl(t){var n;if(!this.definition.methods.includes("GET"))return!1;const r=this.template.replace(/[.*+$()[\]]/g,"\\$&").replace(/(\/?){([^}?]*)(\??)}/g,(i,d,m,g)=>{var f;const h=`(?<${m}>${((f=this.wheres[m])==null?void 0:f.replace(/(^\^)|(\$$)/g,""))||"[^/?]+"})`;return g?`(${d}${h})?`:`${d}${h}`}).replace(/^\w+:\/\//,""),[o,a]=t.replace(/^\w+:\/\//,"").split("?"),s=(n=new RegExp(`^${r}/?$`).exec(o))!=null?n:new RegExp(`^${r}/?$`).exec(decodeURI(o));if(s){for(const i in s.groups)s.groups[i]=typeof s.groups[i]=="string"?decodeURIComponent(s.groups[i]):s.groups[i];return{params:s.groups,query:fo(a)}}return!1}compile(t){return this.parameterSegments.length?this.template.replace(/{([^}?]+)(\??)}/g,(n,r,o)=>{var a,s;if(!o&&[null,void 0].includes(t[r]))throw new Error(`Ziggy error: '${r}' parameter is required for route '${this.name}'.`);if(this.wheres[r]&&!new RegExp(`^${o?`(${this.wheres[r]})?`:this.wheres[r]}$`).test((s=t[r])!=null?s:""))throw new Error(`Ziggy error: '${r}' parameter '${t[r]}' does not match required format '${this.wheres[r]}' for route '${this.name}'.`);return encodeURI((a=t[r])!=null?a:"").replace(/%7C/g,"|").replace(/%25/g,"%").replace(/\$/g,"%24")}).replace(this.config.absolute?/(\.[^/]+?)(\/\/)/:/(^)(\/\/)/,"$1/").replace(/\/+$/,""):this.template}}class mo extends String{constructor(t,n,r=!0,o){if(super(),this.t=o??(typeof Ziggy<"u"?Ziggy:globalThis==null?void 0:globalThis.Ziggy),this.t=T({},this.t,{absolute:r}),t){if(!this.t.routes[t])throw new Error(`Ziggy error: route '${t}' is not in the route list.`);this.i=new Se(t,this.t.routes[t],this.t),this.u=this.l(n)}}toString(){const t=Object.keys(this.u).filter(n=>!this.i.parameterSegments.some(({name:r})=>r===n)).filter(n=>n!=="_query").reduce((n,r)=>T({},n,{[r]:this.u[r]}),{});return this.i.compile(this.u)+function(n,r){var o,a=n,s=function(u){if(!u)return A;if(u.encoder!=null&&typeof u.encoder!="function")throw new TypeError("Encoder has to be a function.");var y=u.charset||A.charset;if(u.charset!==void 0&&u.charset!=="utf-8"&&u.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var p=ee.default;if(u.format!==void 0){if(!ro.call(ee.formatters,u.format))throw new TypeError("Unknown format option provided.");p=u.format}var v=ee.formatters[p],x=A.filter;return(typeof u.filter=="function"||H(u.filter))&&(x=u.filter),{addQueryPrefix:typeof u.addQueryPrefix=="boolean"?u.addQueryPrefix:A.addQueryPrefix,allowDots:u.allowDots===void 0?A.allowDots:!!u.allowDots,charset:y,charsetSentinel:typeof u.charsetSentinel=="boolean"?u.charsetSentinel:A.charsetSentinel,delimiter:u.delimiter===void 0?A.delimiter:u.delimiter,encode:typeof u.encode=="boolean"?u.encode:A.encode,encoder:typeof u.encoder=="function"?u.encoder:A.encoder,encodeValuesOnly:typeof u.encodeValuesOnly=="boolean"?u.encodeValuesOnly:A.encodeValuesOnly,filter:x,format:p,formatter:v,serializeDate:typeof u.serializeDate=="function"?u.serializeDate:A.serializeDate,skipNulls:typeof u.skipNulls=="boolean"?u.skipNulls:A.skipNulls,sort:typeof u.sort=="function"?u.sort:null,strictNullHandling:typeof u.strictNullHandling=="boolean"?u.strictNullHandling:A.strictNullHandling}}(r);typeof s.filter=="function"?a=(0,s.filter)("",a):H(s.filter)&&(o=s.filter);var i=[];if(typeof a!="object"||a===null)return"";var d=Ze[r&&r.arrayFormat in Ze?r.arrayFormat:r&&"indices"in r?r.indices?"indices":"repeat":"indices"];o||(o=Object.keys(a)),s.sort&&o.sort(s.sort);for(var m=0;m<o.length;++m){var g=o[m];s.skipNulls&&a[g]===null||At(i,io(a[g],g,d,s.strictNullHandling,s.skipNulls,s.encode?s.encoder:null,s.filter,s.sort,s.allowDots,s.serializeDate,s.format,s.formatter,s.encodeValuesOnly,s.charset))}var f=i.join(s.delimiter),h=s.addQueryPrefix===!0?"?":"";return s.charsetSentinel&&(h+=s.charset==="iso-8859-1"?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),f.length>0?h+f:""}(T({},t,this.u._query),{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(n,r)=>typeof n=="boolean"?Number(n):r(n)})}p(t){t?this.t.absolute&&t.startsWith("/")&&(t=this.h().host+t):t=this.v();let n={};const[r,o]=Object.entries(this.t.routes).find(([a,s])=>n=new Se(a,s,this.t).matchesUrl(t))||[void 0,void 0];return T({name:r},n,{route:o})}v(){const{host:t,pathname:n,search:r}=this.h();return(this.t.absolute?t+n:n.replace(this.t.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+r}current(t,n){const{name:r,params:o,query:a,route:s}=this.p();if(!t)return r;const i=new RegExp(`^${t.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(r);if([null,void 0].includes(n)||!i)return i;const d=new Se(r,s,this.t);n=this.l(n,d);const m=T({},o,a);if(Object.values(n).every(f=>!f)&&!Object.values(m).some(f=>f!==void 0))return!0;const g=(f,h)=>Object.entries(f).every(([u,y])=>Array.isArray(y)&&Array.isArray(h[u])?y.every(p=>h[u].includes(p)):typeof y=="object"&&typeof h[u]=="object"&&y!==null&&h[u]!==null?g(y,h[u]):h[u]==y);return g(n,m)}h(){var t,n,r,o,a,s;const{host:i="",pathname:d="",search:m=""}=typeof window<"u"?window.location:{};return{host:(t=(n=this.t.location)==null?void 0:n.host)!=null?t:i,pathname:(r=(o=this.t.location)==null?void 0:o.pathname)!=null?r:d,search:(a=(s=this.t.location)==null?void 0:s.search)!=null?a:m}}get params(){const{params:t,query:n}=this.p();return T({},t,n)}get routeParams(){return this.p().params}get queryParams(){return this.p().query}has(t){return this.t.routes.hasOwnProperty(t)}l(t={},n=this.i){t!=null||(t={}),t=["string","number"].includes(typeof t)?[t]:t;const r=n.parameterSegments.filter(({name:o})=>!this.t.defaults[o]);return Array.isArray(t)?t=t.reduce((o,a,s)=>T({},o,r[s]?{[r[s].name]:a}:typeof a=="object"?a:{[a]:""}),{}):r.length!==1||t[r[0].name]||!t.hasOwnProperty(Object.values(n.bindings)[0])&&!t.hasOwnProperty("id")||(t={[r[0].name]:t}),T({},this.m(n),this.j(t,n))}m(t){return t.parameterSegments.filter(({name:n})=>this.t.defaults[n]).reduce((n,{name:r},o)=>T({},n,{[r]:this.t.defaults[r]}),{})}j(t,{bindings:n,parameterSegments:r}){return Object.entries(t).reduce((o,[a,s])=>{if(!s||typeof s!="object"||Array.isArray(s)||!r.some(({name:i})=>i===a))return T({},o,{[a]:s});if(!s.hasOwnProperty(n[a])){if(!s.hasOwnProperty("id"))throw new Error(`Ziggy error: object passed as '${a}' parameter is missing route model binding key '${n[a]}'.`);n[a]="id"}return T({},o,{[a]:s[n[a]]})},{})}valueOf(){return this.toString()}}function Xe(e,t,n,r){const o=new mo(e,t,n,r);return e?o.toString():o}function Fo(){const{auth:e,data:t}=Ce().props;console.log(t);const[n,r]=l.useState(t),[o,a]=l.useState(null),[s,i]=l.useState("index"),[d,m]=l.useState(!1),[g,f]=l.useState(!1),[h,u]=l.useState(!1),[y,p]=l.useState(t.siswa.has_pin),[v,x]=l.useState(null),[b,j]=l.useState({spr:[],tagihan:0});Gt(Ce().props),l.useEffect(()=>{r(t)},[t]);const E=l.useCallback(async P=>{P==="riwayat"?(u(!0),x("pin")):i(P)},[]),N=l.useMemo(()=>[{title:"Tagihan",icon:c.jsx(Zt,{className:"h-6 w-6 text-green-600"}),color:"border-green-700 bg-green-50 hover:bg-green-100",content:c.jsx(gn,{nouid:n.nouid,setTagihanParam:P=>{j(P),E("tagihan")}})},{title:"Data Siswa",icon:c.jsx(Qt,{className:"h-6 w-6 text-amber-600"}),color:"border-amber-700 bg-amber-50 hover:bg-amber-100",content:c.jsx(mn,{nouid:n.nouid,siswa:n.siswa})},{title:"Ekstrakurikuler",icon:c.jsx(Xt,{className:"h-6 w-6 text-rose-600"}),color:"border-rose-700 bg-rose-50 hover:bg-rose-100",content:c.jsx(pn,{nouid:t.nouid})}],[n,E,t]),k=l.useCallback(async()=>{try{f(!0);const P=await fetch(Xe("api.siswa",n.nouid)+`?nouid=${encodeURIComponent(n.nouid)}`);P.ok||console.error("Terjadi kesalahan saat mengambil data siswa");const _=await P.json();_.success!==!0&&console.error(_.message||"Terjadi kesalahan pada server"),r(_.data)}catch(P){f(!1),console.error(P instanceof Error?P.message:"Terjadi kesalahan jaringan")}finally{f(!1)}},[n]),C=l.useCallback(async()=>{g||x("pin")},[g]),D=l.useCallback(async()=>{g||x("setupPin")},[g]),O=l.useCallback(async(P=!1)=>{x(null),P||(u(!1),i("index"))},[]),[M,Y]=l.useState(!1),w=l.useCallback(()=>{Je.post(Xe("siswa.logout",n.nouid),{},{onStart:()=>f(!0),onSuccess:()=>f(!1),onError:()=>f(!1)})},[n.nouid]),S=l.useMemo(()=>Ht((n==null?void 0:n.siswa.balance)||0),[n==null?void 0:n.siswa.balance]),R=l.useMemo(()=>{if(o===null)return null;const P=N[o];return P!=null&&P.content?c.jsxs("div",{className:"relative rounded-xl border border-t-4 border-gray-800 bg-blue-50 p-2 pt-8 shadow-lg",children:[c.jsx("button",{onClick:()=>a(null),className:"absolute top-3 right-3 text-gray-500 transition hover:text-red-500","aria-label":"Tutup",children:c.jsx(Jt,{className:"h-5 w-5"})}),P.content]}):c.jsx("div",{children:"Konten tidak tersedia"})},[o,N]),K=()=>{const[P,_]=l.useState(!1),[It,Me]=l.useState(!1);return c.jsxs("div",{className:"relative flex w-full flex-col items-start rounded-t-lg bg-white p-4 px-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(tn,{className:"flex-shrink-0 text-xl text-primary"}),c.jsx("h2",{className:"truncate text-3xl font-semibold text-primary",children:(n==null?void 0:n.siswa.namlen)||"******"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(nn,{className:"flex-shrink-0 text-lg text-primary"}),c.jsxs("p",{className:"text-primary md:text-lg",children:["NIS: ",(n==null?void 0:n.siswa.nis)||"*****"]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(rn,{className:"flex-shrink-0 text-lg text-primary"}),c.jsxs("p",{className:"text-primary md:text-lg",children:["Kelas: ",(n==null?void 0:n.siswa.kel)||"******"]})]}),c.jsx("div",{className:"absolute right-4 bottom-2",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"cursor-pointer p-2",onClick:()=>_(Mt=>!Mt),children:c.jsx(on,{className:"text-xl text-blue-500"})}),P&&c.jsx("div",{className:"absolute right-0 z-10 mt-1 w-40 rounded-md border bg-white shadow-md",children:c.jsx("button",{onClick:()=>{_(!1),Me(!0)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50",children:"🔒 Blokir Kartu"})})]})}),c.jsx(Ge,{open:It,onOpenChange:Me,title:"Konfirmasi Blokir",description:"Apakah kamu yakin ingin memblokir kartu siswa ini?",confirmText:"Ya, Blokir",onConfirm:()=>{x("blokir"),m(!0)}})]})},te=()=>c.jsxs("div",{className:"grid w-full grid-cols-2 items-center gap-4 border-b-2 p-2 px-6",children:[e.user?c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>Y(!0),className:"flex items-center justify-center space-x-2 rounded-xl border border-indigo-100 bg-red-800 px-4 py-3 text-white shadow-sm transition-colors hover:bg-red-700",children:[c.jsx(Jr,{className:"text-lg"}),c.jsx("span",{children:"Keluar"})]}),c.jsx(Ge,{open:M,onOpenChange:Y,title:"Konfirmasi Logout",description:"Anda yakin ingin keluar?",confirmText:"Ya, Keluar",onConfirm:w})]}):c.jsxs("button",{onClick:C,className:"flex items-center justify-center space-x-2 rounded-xl border border-indigo-100 bg-white px-4 py-3 text-indigo-600 shadow-sm transition-colors hover:bg-indigo-50",children:[c.jsx(an,{className:"text-lg"}),c.jsx("span",{children:"Masukan PIN"})]}),c.jsxs("button",{onClick:D,className:"flex items-center justify-center space-x-2 rounded-xl border border-indigo-100 bg-white px-4 py-3 text-indigo-600 shadow-sm transition-colors hover:bg-indigo-50",children:[c.jsx(sn,{className:"text-lg"}),c.jsx("span",{children:y?"Ubah PIN":"Buat Pin"})]})]}),ne=()=>c.jsx("div",{className:"mb-4 w-full shadow-[0px_10px_10px_-4px_rgba(0,0,0,0.1)] shadow-black",children:c.jsxs("div",{className:"flex w-full flex-row items-center justify-between gap-4 p-4 sm:px-6",children:[c.jsxs("div",{className:"flex flex-col space-y-4",children:[c.jsx("h1",{className:"text-lg font-semibold text-primary-foreground",children:"Saldo Tabungan"}),c.jsxs("div",{className:"flex items-center gap-2 text-primary-foreground",children:[c.jsx(cn,{className:"text-xl"}),c.jsx("span",{className:"text-xl font-bold",children:S})]})]}),c.jsxs("div",{className:"flex flex-col items-end justify-end space-y-4",children:[c.jsxs("button",{onClick:()=>E("topup"),className:"flex items-center gap-2 rounded-md bg-primary-foreground px-4 py-2 text-primary hover:bg-accent",children:[c.jsx(ln,{}),c.jsx("span",{children:"Topup"})]}),c.jsxs("button",{onClick:()=>E("riwayat"),className:"flex items-center gap-2 rounded-md bg-primary-foreground px-4 py-2 text-primary hover:bg-accent",children:[c.jsx(un,{}),c.jsx("span",{children:"Riwayat"})]})]})]})}),Tt=()=>c.jsx("div",{className:"mb-6 grid grid-cols-3 gap-4 px-4 sm:grid-cols-5",children:N.map((P,_)=>c.jsxs("button",{className:`flex flex-col items-center justify-center rounded-xl border border-t-5 p-2 transition duration-200 ${P.color}`,onClick:()=>a(_),children:[P.icon,c.jsx("span",{className:"mt-2 text-center text-sm font-semibold text-gray-800",children:P.title})]},_))});return g?c.jsx(he,{title:"Loading...",children:c.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center space-y-6 bg-blue-100",children:[c.jsx(en,{className:"animate-spin-slow text-5xl text-blue-400"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-purple-600 bg-clip-text text-2xl font-bold tracking-wider text-transparent",children:"Memuat Data"}),c.jsx("div",{className:"animate-loading-line absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-blue-400 to-purple-600"})]})]})}):c.jsxs(c.Fragment,{children:[t.active?c.jsx(c.Fragment,{children:s==="index"?c.jsxs(he,{title:(n==null?void 0:n.siswa.namlen)||"Login",children:[c.jsx(K,{}),c.jsx(te,{}),e.user&&c.jsxs(c.Fragment,{children:[c.jsx(ne,{}),c.jsx(Tt,{}),R]})]}):s==="topup"?c.jsx(dn,{siswa:n.siswa,nouid:n.nouid,onClose:()=>{i("index"),O(),k()}}):s==="tagihan"?c.jsx(fn,{siswa:n.siswa,tagihanParam:{...b,nouid:n.nouid},onClose:()=>{i("index"),O(),k()}}):null}):c.jsx(he,{title:"Kartu Siswa",children:c.jsx("div",{className:"flex min-h-screen items-center bg-white",children:c.jsxs("div",{className:"mx-2 flex w-full flex-col items-center justify-center rounded-lg border-2 border-red-400 bg-red-50 p-6 text-center shadow-sm",children:[c.jsx("h3",{className:"mb-2 text-lg font-semibold text-red-600",children:"🔒 Kartu Diblokir"}),c.jsx("p",{className:"mb-4 text-sm text-red-700",children:"Kartu ini telah diblokir dan tidak dapat digunakan. Silakan aktifkan kembali untuk melanjutkan."}),c.jsx("button",{onClick:()=>x("setupPin"),className:"inline-flex items-center gap-2 rounded-md bg-red-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-red-700",children:"🔓 Aktifkan Kembali"})]})})}),c.jsx(bn,{open:v==="blokir",onClose:()=>O(),setLoading:P=>f(P)}),c.jsx(hn,{open:v==="pin",hasPin:y,handle:h?"riwayat":"auth",setPage:i,setOpenSetupPin:D,onClose:P=>{O(P),P||u(!1)}}),c.jsx(zt,{open:v==="setupPin",hasPin:y,setHasPined:()=>p(!0),onClose:()=>{O(),k()}})]})}export{Fo as default};
