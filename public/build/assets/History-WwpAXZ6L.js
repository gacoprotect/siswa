import{K as u,r as p,j as e,S as x}from"./app-DC-RzZH0.js";import{A as h}from"./AppLayout-IV-TcOBs.js";import{N as g}from"./index-COKR4JWv.js";import{D as y,B as j,C as f,W as N,A as w,S as b,a as v,b as i,c as C,d as k}from"./Detail-BRB_7eaf.js";import"./clsx-B-dksMZM.js";import"./x-9DmKd2c4.js";import"./copy-CDHwknyp.js";const T=()=>{const{transactions:n,nouid:c}=u().props,[a,r]=p.useState(null),l=s=>{switch(s){case"success":return e.jsx(k,{className:"text-green-500",size:16});case"pending":return e.jsx(C,{className:"text-yellow-500",size:16});case"failed":return e.jsx(i,{className:"text-red-500",size:16});case"canceled":return e.jsx(i,{className:"text-red-500",size:16});default:return null}},o=s=>{switch(s){case"topup":case"deposit":return e.jsx(v,{className:"text-blue-500",size:20});case"payment":case"purchase":return e.jsx(b,{className:"text-purple-500",size:20});case"transfer":return e.jsx(w,{className:"text-orange-500",size:20});case"withdraw":return e.jsx(N,{className:"text-amber-500",size:20});case"bank_transfer":case"credit_card":return e.jsx(f,{className:"text-indigo-500",size:20});default:return e.jsx(j,{className:"text-gray-500",size:20})}},d=s=>parseFloat(s).toLocaleString("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}),m=s=>new Date(s).toLocaleDateString("id-ID",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"});return e.jsx(h,{title:"Riwayat Transaksi",children:e.jsxs("div",{className:"overflow-hidden rounded-lg bg-white shadow-md",children:[e.jsxs("div",{className:"flex items-center justify-between bg-primary px-4 py-4 text-primary-foreground",children:[e.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center space-x-2",children:[e.jsx(g,{className:"text-primary-foreground"}),e.jsx("span",{children:"Kembali"})]}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Riwayat Transaksi"})]}),e.jsx("div",{className:"divide-y",children:n.map(s=>e.jsxs("div",{className:"flex cursor-pointer items-center p-4 transition-colors hover:bg-gray-50",onClick:()=>r(s),children:[e.jsx("div",{className:"mr-3 flex h-10 w-10 items-center justify-center rounded-full bg-gray-100",children:o(s.type||s.payment_type)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium capitalize",children:s.type||s.payment_type.replace("_"," ")}),e.jsx("p",{className:"text-sm text-gray-500",children:s.note||`Order: ${s.order_id}`}),e.jsxs("div",{className:"mt-1 flex items-center text-sm",children:[l(s.status),e.jsx("span",{className:"ml-1 text-gray-500 capitalize",children:s.status})]})]}),e.jsxs("div",{className:`text-right ${s.status==="failed"||s.status==="canceled"?"text-red-600":parseFloat(s.amount)>0?"text-green-600":"text-red-600"}`,children:[e.jsxs("div",{className:"font-medium",children:[parseFloat(s.amount)>0?"+":"",d(s.amount)]}),e.jsx("div",{className:"mt-1 text-xs text-gray-400",children:m(s.created_at)}),s.status==="pending"&&e.jsx("button",{className:"mt-2 inline-block rounded-lg bg-blue-500 px-3 py-1 text-xs font-medium text-white transition hover:bg-blue-600",onClick:t=>{t.stopPropagation(),x.get(`/${c}/payment/${s.order_id}`)},children:"Bayar Sekarang"})]})]},s.id))}),a&&e.jsx(y,{transaction:a,onClose:()=>r(null)})]})})};export{T as default};
